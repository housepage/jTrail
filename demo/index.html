<html>
  <head>
    <link href="../css/jtrail.css" media="all" rel="stylesheet" type="text/css" />

    <script src="../js/jquery-1.6.2.js"></script>
    <script src="../js/amplify.store.js"></script>
    <script src="../js/history.adapter.jquery.js"></script>
    <script src="../js/history.js"></script>
    <script src="../js/jquery.jtrail.js"></script>

    <title>jTrail</title>

  </head>
  <body>
    <div id="trail"></div>
    <script type="text/javascript">
      (function(window,undefined) {
        var History = window.History,
            $ = window.jQuery;
        console.log($);

        $(function() {
          History.Adapter.bind(window,'statechange',function(){ // Note: We are using statechange instead of popstate
            var State = History.getState(); // Note: We are using History.getState() instead of event.state
            $("#trail").jTrail({start:State.data.start,end:State.data.end});
          });
        });

        console.log("Hrrm");
        console.log(History);
        History.pushState({start: "Seattle",end: "Mount Rainier",current: "Seattle"},"Seattle","/jTrail/demo/Seattle");

      })(window);
    </script>
  </body>
</html>
