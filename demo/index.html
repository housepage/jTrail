<html>
  <head>
    <link href="../css/jtrail.css" media="all" rel="stylesheet" type="text/css" />

    <script src="../js/jquery-1.6.2.js"></script>
    <script src="../js/amplify.store.js"></script>
    <script src="../js/history.adapter.jquery.js"></script>
    <script src="../js/history.js"></script>
    <script src="../js/jquery.jtrail.js"></script>

    <title>jTrail</title>

    <script type="text/javascript">
      (function(window,undefined) {
        console.log("Huh?");
        var History = window.History,
            $ = window.jQuery;
        console.log("Huh?");

        $(function() {
          History.Adapter.bind(window,'statechange',function(){ // Note: We are using statechange instead of popstate
            console.log("Huh?");
            var State = History.getState(); // Note: We are using History.getState() instead of event.state
            console.log("Huh?");
            console.log("State change!"); 
            /*$("#trail").jTrail({start:State.data.start,end:State.data.end});*/
          });
        });
        console.log("Huh?");

        History.pushState({start: "Seattle",end: "Mount Rainier",current: "Seattle"},"Seattle","/jTrail/demo/index.html");
      
        console.log("Huh?");

      })(window);
      console.log("What?");
    </script>

  </head>
  <body>
    <div id="trail"></div>
    <script type="text/javascript">
    </script>
  </body>
</html>
